{"ast":null,"code":"var _jsxFileName = \"/Users/skaath/Desktop/FBLA/byte-sized-business-boost/client/src/contexts/BusinessContext.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\n/**\n * Business Context\n * Manages global business state, filtering, and favorites\n */\n\nimport React, { createContext, useContext, useState, useEffect } from 'react';\nimport { getBusinesses, getFavorites } from '../utils/api';\nimport { useAuth } from './AuthContext';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst BusinessContext = /*#__PURE__*/createContext();\n\n/**\n * Custom hook to use business context\n * @returns {Object} Business context value\n */\nexport function useBusiness() {\n  _s();\n  const context = useContext(BusinessContext);\n  if (!context) {\n    throw new Error('useBusiness must be used within BusinessProvider');\n  }\n  return context;\n}\n\n/**\n * Business Provider Component\n * Manages businesses data and filtering state\n */\n_s(useBusiness, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\nexport function BusinessProvider({\n  children\n}) {\n  _s2();\n  const {\n    user\n  } = useAuth();\n  const [businesses, setBusinesses] = useState([]);\n  const [favorites, setFavorites] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n\n  // Filters\n  const [selectedCategory, setSelectedCategory] = useState('All');\n  const [searchQuery, setSearchQuery] = useState('');\n  const [sortBy, setSortBy] = useState('highest-rated');\n  const [minRating, setMinRating] = useState(0);\n\n  /**\n   * Fetch businesses with current filters\n   */\n  const fetchBusinesses = async () => {\n    try {\n      setLoading(true);\n      setError(null);\n      const filters = {\n        category: selectedCategory,\n        search: searchQuery,\n        sort: sortBy,\n        minRating: minRating > 0 ? minRating : undefined\n      };\n      const data = await getBusinesses(filters);\n      setBusinesses(data);\n    } catch (err) {\n      console.error('Error fetching businesses:', err);\n      setError('Failed to load businesses');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  /**\n   * Fetch user's favorites\n   */\n  const fetchFavorites = async () => {\n    if (!user) {\n      setFavorites([]);\n      return;\n    }\n    try {\n      const data = await getFavorites(user.id);\n      setFavorites(data);\n    } catch (err) {\n      console.error('Error fetching favorites:', err);\n    }\n  };\n\n  // Fetch businesses when filters change\n  useEffect(() => {\n    fetchBusinesses();\n  }, [selectedCategory, searchQuery, sortBy, minRating]);\n\n  // Fetch favorites when user changes\n  useEffect(() => {\n    fetchFavorites();\n  }, [user]);\n\n  /**\n   * Check if business is favorited\n   * @param {string} businessId - Business ID\n   * @returns {boolean} True if business is in favorites\n   */\n  const isFavorited = businessId => {\n    return favorites.some(fav => fav.id === businessId);\n  };\n\n  /**\n   * Reset all filters to defaults\n   */\n  const resetFilters = () => {\n    setSelectedCategory('All');\n    setSearchQuery('');\n    setSortBy('highest-rated');\n    setMinRating(0);\n  };\n  const value = {\n    businesses,\n    favorites,\n    loading,\n    error,\n    selectedCategory,\n    setSelectedCategory,\n    searchQuery,\n    setSearchQuery,\n    sortBy,\n    setSortBy,\n    minRating,\n    setMinRating,\n    fetchBusinesses,\n    fetchFavorites,\n    isFavorited,\n    resetFilters\n  };\n  return /*#__PURE__*/_jsxDEV(BusinessContext.Provider, {\n    value: value,\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 131,\n    columnNumber: 10\n  }, this);\n}\n_s2(BusinessProvider, \"QBnYnr+4hHuUIHzV/EHHrcGtzDo=\", false, function () {\n  return [useAuth];\n});\n_c = BusinessProvider;\nexport default BusinessContext;\nvar _c;\n$RefreshReg$(_c, \"BusinessProvider\");","map":{"version":3,"names":["React","createContext","useContext","useState","useEffect","getBusinesses","getFavorites","useAuth","jsxDEV","_jsxDEV","BusinessContext","useBusiness","_s","context","Error","BusinessProvider","children","_s2","user","businesses","setBusinesses","favorites","setFavorites","loading","setLoading","error","setError","selectedCategory","setSelectedCategory","searchQuery","setSearchQuery","sortBy","setSortBy","minRating","setMinRating","fetchBusinesses","filters","category","search","sort","undefined","data","err","console","fetchFavorites","id","isFavorited","businessId","some","fav","resetFilters","value","Provider","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/skaath/Desktop/FBLA/byte-sized-business-boost/client/src/contexts/BusinessContext.js"],"sourcesContent":["/**\n * Business Context\n * Manages global business state, filtering, and favorites\n */\n\nimport React, { createContext, useContext, useState, useEffect } from 'react';\nimport { getBusinesses, getFavorites } from '../utils/api';\nimport { useAuth } from './AuthContext';\n\nconst BusinessContext = createContext();\n\n/**\n * Custom hook to use business context\n * @returns {Object} Business context value\n */\nexport function useBusiness() {\n  const context = useContext(BusinessContext);\n  if (!context) {\n    throw new Error('useBusiness must be used within BusinessProvider');\n  }\n  return context;\n}\n\n/**\n * Business Provider Component\n * Manages businesses data and filtering state\n */\nexport function BusinessProvider({ children }) {\n  const { user } = useAuth();\n  const [businesses, setBusinesses] = useState([]);\n  const [favorites, setFavorites] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n\n  // Filters\n  const [selectedCategory, setSelectedCategory] = useState('All');\n  const [searchQuery, setSearchQuery] = useState('');\n  const [sortBy, setSortBy] = useState('highest-rated');\n  const [minRating, setMinRating] = useState(0);\n\n  /**\n   * Fetch businesses with current filters\n   */\n  const fetchBusinesses = async () => {\n    try {\n      setLoading(true);\n      setError(null);\n\n      const filters = {\n        category: selectedCategory,\n        search: searchQuery,\n        sort: sortBy,\n        minRating: minRating > 0 ? minRating : undefined,\n      };\n\n      const data = await getBusinesses(filters);\n      setBusinesses(data);\n    } catch (err) {\n      console.error('Error fetching businesses:', err);\n      setError('Failed to load businesses');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  /**\n   * Fetch user's favorites\n   */\n  const fetchFavorites = async () => {\n    if (!user) {\n      setFavorites([]);\n      return;\n    }\n\n    try {\n      const data = await getFavorites(user.id);\n      setFavorites(data);\n    } catch (err) {\n      console.error('Error fetching favorites:', err);\n    }\n  };\n\n  // Fetch businesses when filters change\n  useEffect(() => {\n    fetchBusinesses();\n  }, [selectedCategory, searchQuery, sortBy, minRating]);\n\n  // Fetch favorites when user changes\n  useEffect(() => {\n    fetchFavorites();\n  }, [user]);\n\n  /**\n   * Check if business is favorited\n   * @param {string} businessId - Business ID\n   * @returns {boolean} True if business is in favorites\n   */\n  const isFavorited = (businessId) => {\n    return favorites.some((fav) => fav.id === businessId);\n  };\n\n  /**\n   * Reset all filters to defaults\n   */\n  const resetFilters = () => {\n    setSelectedCategory('All');\n    setSearchQuery('');\n    setSortBy('highest-rated');\n    setMinRating(0);\n  };\n\n  const value = {\n    businesses,\n    favorites,\n    loading,\n    error,\n    selectedCategory,\n    setSelectedCategory,\n    searchQuery,\n    setSearchQuery,\n    sortBy,\n    setSortBy,\n    minRating,\n    setMinRating,\n    fetchBusinesses,\n    fetchFavorites,\n    isFavorited,\n    resetFilters,\n  };\n\n  return <BusinessContext.Provider value={value}>{children}</BusinessContext.Provider>;\n}\n\nexport default BusinessContext;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}